<script>
document.addEventListener("DOMContentLoaded", function() {
  // Dış Linkleri Yeni Sekmede Açma (Standart)
  var links = document.links;
  for (var i = 0; i < links.length; i++) {
    if (links[i].hostname != window.location.hostname) {
      links[i].target = '_blank';
      links[i].rel = 'noopener noreferrer';
    } else if (links[i].href.endsWith(".pdf")) {
      links[i].target = '_blank';
    }
  }
});

// DİL DEĞİŞTİRME INTERCEPTOR (Hash Yöntemi)
window.addEventListener('click', function(e) {
  
  var link = e.target.closest('a');
  if (!link) return;

  var href = link.getAttribute('href'); 
  var currentPath = window.location.pathname;

  // 1. İNGİLİZCEYE GEÇİŞ (#lang-en tıklandıysa)
  if (href === '#lang-en') {
    e.preventDefault(); // Sayfanın zıplamasını engelle
    
    // Eğer şu an TR içindeysek değiştir
    if (currentPath.indexOf('/tr/') !== -1) {
      var newPath = currentPath.replace('/tr/', '/en/');
      window.location.href = newPath;
    } else {
      // Zaten TR değilse (belki kök dizindeyizdir), direkt EN anasayfaya at
      window.location.href = '/en/';
    }
  }

  // 2. TÜRKÇEYE GEÇİŞ (#lang-tr tıklandıysa)
  else if (href === '#lang-tr') {
    e.preventDefault();
    
    // Eğer şu an EN içindeysek değiştir
    if (currentPath.indexOf('/en/') !== -1) {
      var newPath = currentPath.replace('/en/', '/tr/');
      window.location.href = newPath;
    } else {
      // Zaten EN değilse, direkt TR anasayfaya at
      window.location.href = '/tr/';
    }
  }

}, true); 
</script>