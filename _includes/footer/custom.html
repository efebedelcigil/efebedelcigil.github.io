<script>
document.addEventListener("DOMContentLoaded", function() {

  // 1. PDF ve Dış Linkleri Yeni Sekmede Açma (Standart)
  var links = document.links;
  for (var i = 0; i < links.length; i++) {
    if (links[i].hostname != window.location.hostname) {
      links[i].target = '_blank';
      links[i].rel = 'noopener noreferrer';
    } else if (links[i].href.endsWith(".pdf")) {
      links[i].target = '_blank';
    }
  }

  // 2. LİNK REWRITER (Linkleri Önceden Güncelleme)
  // Tıklama beklemiyoruz, butonun adresini direkt değiştiriyoruz.
  
  var currentPath = window.location.pathname; // Örn: /tr/projects/
  
  // A) TÜRKÇE SAYFADAYIZ -> İNGİLİZCE BUTONUNU BUL VE GÜNCELLE
  if (currentPath.indexOf('/tr/') !== -1) {
    // Hedefi tam olarak "/en/" olan linki bul
    // (CSS Selector: a[href="/en/"])
    var enBtn = document.querySelector('a[href="/en/"]');
    
    if (enBtn) {
      // Mevcut yolun başındaki "/tr/" kısmını "/en/" yap
      var newPath = currentPath.replace('/tr/', '/en/');
      // Butonun hedefini güncelle
      enBtn.setAttribute('href', newPath);
    }
  }

  // B) İNGİLİZCE SAYFADAYIZ -> TÜRKÇE BUTONUNU BUL VE GÜNCELLE
  else if (currentPath.indexOf('/en/') !== -1) {
    // Hedefi tam olarak "/tr/" olan linki bul
    var trBtn = document.querySelector('a[href="/tr/"]');
    
    if (trBtn) {
      var newPath = currentPath.replace('/en/', '/tr/');
      trBtn.setAttribute('href', newPath);
    }
  }

});
</script>